/*! Built with http://stenciljs.com */
const{h:t}=window.index;import{commonjsGlobal as e,commonjsRequire as r,createCommonjsModule as n}from"./chunk2.js";class i{constructor(){this.listSelector="",this.containerSelector="",this.bindToList=!1,this.bottomOffset=100,this.debounce=300,this.debounceStatus=!1}loadMore(){this.debounceStatus||(this.startDebounce(),this.onBottomReach.emit(this.listElement.id&&this.listElement.id))}startDebounce(){this.debounceStatus=!0,setTimeout(()=>this.debounceStatus=!1,this.debounce)}componentWillLoad(){console.log("WATCHER: provided selector: ",this.listSelector),this.listElement=document.querySelector(this.listSelector),console.log("WATCHER: element: ",this.listElement),this.bindToList?this.listElement.addEventListener("scroll",this.listScrollHandler.bind(this)):document.addEventListener("scroll",this.windowScrollHandler.bind(this))}listScrollHandler(){this.listElement.scrollTop+this.listElement.clientHeight>=this.listElement.scrollHeight-this.bottomOffset&&this.loadMore()}windowScrollHandler(){document.querySelector(`#${this.listElement.id} .list-item-last`).getBoundingClientRect().bottom-this.bottomOffset<=window.innerHeight&&this.loadMore()}render(){return t("p",null,"Hi I'm infinite-list-watcher !;D")}static get is(){return"cwc-infinite-list-watcher"}static get properties(){return{bindToList:{type:Boolean,attr:"bind-to-list"},bottomOffset:{type:Number,attr:"bottom-offset"},containerSelector:{type:String,attr:"container-selector"},debounce:{type:Number,attr:"debounce"},listElement:{state:!0},listSelector:{type:String,attr:"list-selector"},loadMore:{method:!0}}}static get events(){return[{name:"onBottomReach",method:"onBottomReach",bubbles:!0,cancelable:!0,composed:!0}]}}var o,a,s,c,u="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,f=u||l||Function("return this")(),h=f.Symbol,d=Object.prototype,p=d.hasOwnProperty,b=d.toString,v=h?h.toStringTag:void 0,y=Object.prototype.toString,g=h?h.toStringTag:void 0,_=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?function(t){var e=p.call(t,v),r=t[v];try{t[v]=void 0;var n=!0}catch(t){}var i=b.call(t);return n&&(e?t[v]=r:delete t[v]),i}(t):function(t){return y.call(t)}(t)},j=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},m=function(t){if(!j(t))return!1;var e=_(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},O=f["__core-js_shared__"],w=(o=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",S=Function.prototype.toString,A=function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""},x=/^\[object .+?Constructor\]$/,C=Function.prototype,E=Object.prototype,L=C.toString,I=E.hasOwnProperty,z=RegExp("^"+L.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=function(t){return!(!j(t)||(e=t,w&&w in e))&&(m(t)?z:x).test(A(t));var e},M=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return P(r)?r:void 0},$=function(){try{var t=M(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),T=function(t,e,r){"__proto__"==e&&$?$(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},k=function(t,e){return t===e||t!=t&&e!=e},R=Object.prototype.hasOwnProperty,V=function(t,e,r){var n=t[e];R.call(t,e)&&k(n,r)&&(void 0!==r||e in t)||T(t,e,r)},D=function(t){return t},F=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},H=Math.max,B=$?function(t,e){return $(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:D,U=Date.now,W=(a=B,s=0,c=0,function(){var t=U(),e=16-(t-c);if(c=t,e>0){if(++s>=800)return arguments[0]}else s=0;return a.apply(void 0,arguments)}),N=function(t,e){return W(function(t,e,r){return e=H(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=H(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),F(t,this,s)}}(t,e,D),t+"")},q=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},K=function(t){return null!=t&&q(t.length)&&!m(t)},G=/^(?:0|[1-9]\d*)$/,J=function(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||G.test(t))&&t>-1&&t%1==0&&t<e},Q=function(t,e,r){if(!j(r))return!1;var n=typeof e;return!!("number"==n?K(r)&&J(e,r.length):"string"==n&&e in r)&&k(r[e],t)},X=function(t){return null!=t&&"object"==typeof t},Y=function(t){return X(t)&&"[object Arguments]"==_(t)},Z=Object.prototype,tt=Z.hasOwnProperty,et=Z.propertyIsEnumerable,rt=Y(function(){return arguments}())?Y:function(t){return X(t)&&tt.call(t,"callee")&&!et.call(t,"callee")},nt=Array.isArray,it=function(){return!1},ot=n(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r?f.Buffer:void 0,o=(i?i.isBuffer:void 0)||it;t.exports=o}),at={};at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Arguments]"]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object Boolean]"]=at["[object DataView]"]=at["[object Date]"]=at["[object Error]"]=at["[object Function]"]=at["[object Map]"]=at["[object Number]"]=at["[object Object]"]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object WeakMap]"]=!1;var st,ct,ut=n(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r&&u.process,o=function(){try{return i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o}),lt=ut&&ut.isTypedArray,ft=lt?function(t){return function(e){return t(e)}}(lt):function(t){return X(t)&&q(t.length)&&!!at[_(t)]},ht=Object.prototype.hasOwnProperty,dt=function(t,e){var r=nt(t),n=!r&&rt(t),i=!r&&!n&&ot(t),o=!r&&!n&&!i&&ft(t),a=r||n||i||o,s=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=s.length;for(var u in t)!e&&!ht.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||J(u,c))||s.push(u);return s},pt=Object.prototype,bt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||pt)},vt=Object.prototype.hasOwnProperty,yt=function(t){if(!j(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=bt(t),r=[];for(var n in t)("constructor"!=n||!e&&vt.call(t,n))&&r.push(n);return r},gt=(st=function(t,e,r,n){!function(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],c=n?n(r[s],t[s],s,r,t):void 0;void 0===c&&(c=t[s]),i?T(r,s,c):V(r,s,c)}}(e,function(t){return K(t)?dt(t,!0):yt(t)}(e),t,n)},N(function(t,e){var r=-1,n=e.length,i=n>1?e[n-1]:void 0,o=n>2?e[2]:void 0;for(i=st.length>3&&"function"==typeof i?(n--,i):void 0,o&&Q(e[0],e[1],o)&&(i=n<3?void 0:i,n=1),t=Object(t);++r<n;){var a=e[r];a&&st(t,a,r,i)}return t})),_t=function(t,e){return function(r){return t(e(r))}},jt=_t(Object.getPrototypeOf,Object),mt=Function.prototype,Ot=Object.prototype,wt=mt.toString,St=Ot.hasOwnProperty,At=wt.call(Object),xt=function(t){if(!X(t))return!1;var e=_(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!function(t){if(!X(t)||"[object Object]"!=_(t))return!1;var e=jt(t);if(null===e)return!0;var r=St.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&wt.call(r)==At}(t)},Ct=N(function(t,e){try{return F(t,void 0,e)}catch(t){return xt(t)?t:new Error(t)}}),Et=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i},Lt=Object.prototype,It=Lt.hasOwnProperty,zt=function(t,e,r,n){return void 0===t||k(t,Lt[r])&&!It.call(n,r)?e:t},Pt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mt=function(t){return"\\"+Pt[t]},$t=_t(Object.keys,Object),Tt=Object.prototype.hasOwnProperty,kt=function(t){return K(t)?dt(t):function(t){if(!bt(t))return $t(t);var e=[];for(var r in Object(t))Tt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)},Rt=/<%=([\s\S]+?)%>/g,Vt=(ct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==ct?void 0:ct[t]}),Dt=function(t){return"symbol"==typeof t||X(t)&&"[object Symbol]"==_(t)},Ft=h?h.prototype:void 0,Ht=Ft?Ft.toString:void 0,Bt=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(nt(e))return Et(e,t)+"";if(Dt(e))return Ht?Ht.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}(t)},Ut=/[&<>"']/g,Wt=RegExp(Ut.source),Nt={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Rt,variable:"",imports:{_:{escape:function(t){return(t=Bt(t))&&Wt.test(t)?t.replace(Ut,Vt):t}}}},qt=/\b__p \+= '';/g,Kt=/\b(__p \+=) '' \+/g,Gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qt=/($^)/,Xt=/['\n\r\u2028\u2029\\]/g,Yt=function(t,e,r){var n=Nt.imports._.templateSettings||Nt;r&&Q(t,e,r)&&(e=void 0),t=Bt(t),e=gt({},e,n,zt);var i,o,a,s=gt({},e.imports,n.imports,zt),c=kt(s),u=(a=s,Et(c,function(t){return a[t]})),l=0,f=e.interpolate||Qt,h="__p += '",d=RegExp((e.escape||Qt).source+"|"+f.source+"|"+(f===Rt?Jt:Qt).source+"|"+(e.evaluate||Qt).source+"|$","g"),p="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";t.replace(d,function(e,r,n,a,s,c){return n||(n=a),h+=t.slice(l,c).replace(Xt,Mt),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),h+="';\n";var b=e.variable;b||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(qt,""):h).replace(Kt,"$1").replace(Gt,"$1;"),h="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Ct(function(){return Function(c,p+"return "+h).apply(void 0,u)});if(v.source=h,xt(v))throw v;return v};class Zt{constructor(){this.itemAs="item",this.template="",this.addClass="",this.addClassFirst="",this.addClassLast="",this.addClassEven="",this.addClassOdd="",this.wrapperClass="",this.regex=/\[\[+(.*?) ?\]\]+/g}addListClasses(t="",e,r){let n=t+" list-item".concat(this.addClass&&" "+this.addClass);return 0==e&&(n+=" list-item-first".concat(this.addClassFirst&&" "+this.addClassFirst)),e==r-1&&(n+=" list-item-last".concat(this.addClassLast&&" "+this.addClassLast)),e%2==0&&(n+=" list-item-even".concat(this.addClassEven&&" "+this.addClassEven)),1==Math.abs(e%2)&&(n+=" list-item-odd".concat(this.addClassOdd&&" "+this.addClassOdd)),console.log("returning:  "+n+" "),n+" "}insert(t,e,r){return t.substr(0,e)+r+t.substr(e)}insertClassList(t,e){let r=t.indexOf(">"),n=t.indexOf('class="');return-1!==n&&n<r?this.insert(t,t.indexOf('"',n+7),this.addListClasses("",e,this.items.length)):this.insert(t,r,this.addListClasses("",e,this.items.length))}render(){let e=Yt(this.template),r="";return this.items.map((t,n)=>{let i=e({[this.itemAs]:t});i=this.insertClassList(i,n),r+=i}),t("div",{id:this.el.id,class:"item-list-wrapper "+this.wrapperClass,innerHTML:r})}static get is(){return"cwc-list"}static get properties(){return{addClass:{type:String,attr:"add-class"},addClassEven:{type:String,attr:"add-class-even"},addClassFirst:{type:String,attr:"add-class-first"},addClassLast:{type:String,attr:"add-class-last"},addClassOdd:{type:String,attr:"add-class-odd"},el:{elementRef:!0},itemAs:{type:String,attr:"item-as"},items:{type:"Any",attr:"items"},template:{type:String,attr:"template"},wrapperClass:{type:String,attr:"wrapper-class"}}}}var te=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o},ee=function(t,e,r){for(var n=-1,i=Object(t),o=r(t),a=o.length;a--;){var s=o[++n];if(!1===e(i[s],s,i))break}return t},re=function(t,e){if(null==t)return t;if(!K(t))return function(t,e){return t&&ee(t,e,kt)}(t,e);for(var r=t.length,n=-1,i=Object(t);++n<r&&!1!==e(i[n],n,i););return t},ne=function(t,e){for(var r=t.length;r--;)if(k(t[r][0],e))return r;return-1},ie=Array.prototype.splice;function oe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}oe.prototype.clear=function(){this.__data__=[],this.size=0},oe.prototype.delete=function(t){var e=this.__data__,r=ne(e,t);return!(r<0||(r==e.length-1?e.pop():ie.call(e,r,1),--this.size,0))},oe.prototype.get=function(t){var e=this.__data__,r=ne(e,t);return r<0?void 0:e[r][1]},oe.prototype.has=function(t){return ne(this.__data__,t)>-1},oe.prototype.set=function(t,e){var r=this.__data__,n=ne(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var ae=oe,se=M(f,"Map"),ce=M(Object,"create"),ue=Object.prototype.hasOwnProperty,le=Object.prototype.hasOwnProperty;function fe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fe.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},fe.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},fe.prototype.get=function(t){var e=this.__data__;if(ce){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return ue.call(e,t)?e[t]:void 0},fe.prototype.has=function(t){var e=this.__data__;return ce?void 0!==e[t]:le.call(e,t)},fe.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ce&&void 0===e?"__lodash_hash_undefined__":e,this};var he=fe,de=function(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map};function pe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pe.prototype.clear=function(){this.size=0,this.__data__={hash:new he,map:new(se||ae),string:new he}},pe.prototype.delete=function(t){var e=de(this,t).delete(t);return this.size-=e?1:0,e},pe.prototype.get=function(t){return de(this,t).get(t)},pe.prototype.has=function(t){return de(this,t).has(t)},pe.prototype.set=function(t,e){var r=de(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var be=pe;function ve(t){var e=this.__data__=new ae(t);this.size=e.size}ve.prototype.clear=function(){this.__data__=new ae,this.size=0},ve.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},ve.prototype.get=function(t){return this.__data__.get(t)},ve.prototype.has=function(t){return this.__data__.has(t)},ve.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ae){var n=r.__data__;if(!se||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new be(n)}return r.set(t,e),this.size=r.size,this};var ye=ve;function ge(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new be;++e<r;)this.add(t[e])}ge.prototype.add=ge.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ge.prototype.has=function(t){return this.__data__.has(t)};var _e=ge,je=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},me=function(t,e,r,n,i,o){var a=1&r,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,f=!0,h=2&r?new _e:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var d=t[l],p=e[l];if(n)var b=a?n(p,d,l,e,t,o):n(d,p,l,t,e,o);if(void 0!==b){if(b)continue;f=!1;break}if(h){if(!je(e,function(t,e){if(a=e,!h.has(a)&&(d===t||i(d,t,r,n,o)))return h.push(e);var a})){f=!1;break}}else if(d!==p&&!i(d,p,r,n,o)){f=!1;break}}return o.delete(t),o.delete(e),f},Oe=f.Uint8Array,we=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r},Se=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},Ae=h?h.prototype:void 0,xe=Ae?Ae.valueOf:void 0,Ce=Object.prototype.propertyIsEnumerable,Ee=Object.getOwnPropertySymbols,Le=Ee?function(t){return null==t?[]:(t=Object(t),te(Ee(t),function(e){return Ce.call(t,e)}))}:function(){return[]},Ie=function(t){return function(t,e,r){var n=e(t);return nt(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,kt,Le)},ze=Object.prototype.hasOwnProperty,Pe=M(f,"DataView"),Me=M(f,"Promise"),$e=M(f,"Set"),Te=M(f,"WeakMap"),ke=A(Pe),Re=A(se),Ve=A(Me),De=A($e),Fe=A(Te),He=_;(Pe&&"[object DataView]"!=He(new Pe(new ArrayBuffer(1)))||se&&"[object Map]"!=He(new se)||Me&&"[object Promise]"!=He(Me.resolve())||$e&&"[object Set]"!=He(new $e)||Te&&"[object WeakMap]"!=He(new Te))&&(He=function(t){var e=_(t),r="[object Object]"==e?t.constructor:void 0,n=r?A(r):"";if(n)switch(n){case ke:return"[object DataView]";case Re:return"[object Map]";case Ve:return"[object Promise]";case De:return"[object Set]";case Fe:return"[object WeakMap]"}return e});var Be=He,Ue=Object.prototype.hasOwnProperty,We=function(t,e,r,n,i,o){var a=nt(t),s=nt(e),c=a?"[object Array]":Be(t),u=s?"[object Array]":Be(e),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),h=c==u;if(h&&ot(t)){if(!ot(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new ye),a||ft(t)?me(t,e,r,n,i,o):function(t,e,r,n,i,o,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Oe(t),new Oe(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return k(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=we;case"[object Set]":var c=1&n;if(s||(s=Se),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;n|=2,a.set(t,e);var l=me(s(t),s(e),n,i,o,a);return a.delete(t),l;case"[object Symbol]":if(xe)return xe.call(t)==xe.call(e)}return!1}(t,e,c,r,n,i,o);if(!(1&r)){var d=l&&Ue.call(t,"__wrapped__"),p=f&&Ue.call(e,"__wrapped__");if(d||p){var b=d?t.value():t,v=p?e.value():e;return o||(o=new ye),i(b,v,r,n,o)}}return!!h&&(o||(o=new ye),function(t,e,r,n,i,o){var a=1&r,s=Ie(t),c=s.length;if(c!=Ie(e).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in e:ze.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++u<c;){var p=t[l=s[u]],b=e[l];if(n)var v=a?n(b,p,l,e,t,o):n(p,b,l,t,e,o);if(!(void 0===v?p===b||i(p,b,r,n,o):v)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var y=t.constructor,g=e.constructor;y!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g)&&(h=!1)}return o.delete(t),o.delete(e),h}(t,e,r,n,i,o))},Ne=function t(e,r,n,i,o){return e===r||(null==e||null==r||!X(e)&&!X(r)?e!=e&&r!=r:We(e,r,n,i,t,o))},qe=function(t){return t==t&&!j(t)},Ke=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}},Ge=function(t){var e=function(t){for(var e=kt(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,qe(i)]}return e}(t);return 1==e.length&&e[0][2]?Ke(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,a=!n;if(null==t)return!o;for(t=Object(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var c=(s=r[i])[0],u=t[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in t))return!1}else{var f=new ye;if(n)var h=n(u,l,c,t,e,f);if(!(void 0===h?Ne(l,u,3,n,f):h))return!1}}return!0}(r,t,e)}},Je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qe=/^\w*$/,Xe=function(t,e){if(nt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Dt(t))||Qe.test(t)||!Je.test(t)||null!=e&&t in Object(e)},Ye="Expected a function";function Ze(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ye);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Ze.Cache||be),r}Ze.Cache=be;var tr,er,rr=/^\./,nr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ir=/\\(\\)?/g,or=(tr=Ze(function(t){var e=[];return rr.test(t)&&e.push(""),t.replace(nr,function(t,r,n,i){e.push(n?i.replace(ir,"$1"):r||t)}),e},function(t){return 500===er.size&&er.clear(),t}),er=tr.cache,tr),ar=function(t,e){return nt(t)?t:Xe(t,e)?[t]:or(Bt(t))},sr=function(t){if("string"==typeof t||Dt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},cr=function(t,e){for(var r=0,n=(e=ar(e,t)).length;null!=t&&r<n;)t=t[sr(e[r++])];return r&&r==n?t:void 0},ur=function(t,e,r){var n=null==t?void 0:cr(t,e);return void 0===n?r:n},lr=function(t,e){return null!=t&&e in Object(t)},fr=function(t,e){return null!=t&&function(t,e,r){for(var n=-1,i=(e=ar(e,t)).length,o=!1;++n<i;){var a=sr(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&q(i)&&J(a,i)&&(nt(t)||rt(t))}(t,e,lr)},hr=function(t){return Xe(t)?(e=sr(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return cr(e,t)}}(t);var e},dr=function(t){return"function"==typeof t?t:null==t?D:"object"==typeof t?nt(t)?(e=t[0],r=t[1],Xe(e)&&qe(r)?Ke(sr(e),r):function(t){var n=ur(t,e);return void 0===n&&n===r?fr(t,e):Ne(r,n,3)}):Ge(t):hr(t);var e,r},pr=function(t,e){return(nt(t)?te:function(t,e){var r=[];return re(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r})(t,dr(e))};class br{constructor(){this.minSearchLength=1,this.data=[],this.idValue="typeahead-"+Date.now(),this.placeholder='Search something e.g. "Alabama"',this.filterValue="",this.optionsShown=!1,this.focusIndex=0,this.filtered=[]}typeaheadOnSubmitHandler(t){this.typeaheadOnSubmit.emit(t)}componentWillUpdate(){this.filterValue.length>=this.minSearchLength&&(this.filtered=this.filter(),this.filtered.length>0&&(this.optionsShown=!0))}filter(){return"string"==typeof this.data[0]?this.filterStringArray(this.data):"object"==typeof this.data[0]?this.findInComplex(this.data,this.searchKey):void 0}filterStringArray(t){return pr(t,t=>("string"==typeof t?t:t.index).toLowerCase().indexOf(this.filterValue.toLowerCase())>=0)}findInComplex(t,e){let r=[];return r=t.map(t=>({index:ur(t,e),data:t})),this.filterStringArray(r)}handleInputChange(t){this.filterValue=t.target.value}handleSelect(t,e){let r=document.querySelector(`#${this.idValue} input`),n="string"==typeof this.filtered[e]?this.filtered[e]:this.filtered[e].data;r.value=t,this.typeaheadOnSubmitHandler(n),this.close()}handleHover(t){this.focusIndex=t}close(){this.focusIndex=0,this.filterValue="",this.filtered=[]}render(){return t("div",{id:this.idValue},t("input",{onInput:t=>this.handleInputChange(t),type:"text",class:"form-control",placeholder:this.placeholder}),this.filtered.length>0?t("div",{class:"card"},this.filtered.map((e,r)=>t("option",{class:"dropdown-item".concat(this.focusIndex==r+1?" active":""),onClick:t=>this.handleSelect(t.target.value,r),onMouseEnter:()=>this.handleHover(r+1)},"string"==typeof e?e:e.index))):()=>{})}handleDownArrow(t){console.log(t),this.focusIndex<this.filtered.length&&(this.focusIndex=this.focusIndex+1)}handleUpArrow(t){this.focusIndex>0&&(this.focusIndex=this.focusIndex-1,t.preventDefault())}handleEscape(t){console.log(t),this.focusIndex>0&&(this.focusIndex=0),this.close()}handleEnter(t){console.log(t),this.focusIndex>0&&this.handleSelect(document.querySelectorAll(`#${this.idValue} option`)[this.focusIndex-1].textContent,this.focusIndex-1)}static get is(){return"cwc-typeahead"}static get properties(){return{close:{method:!0},data:{type:"Any",attr:"data"},filterValue:{state:!0},focusIndex:{state:!0},idValue:{type:String,attr:"id-value"},minSearchLength:{type:Number,attr:"min-search-length"},optionsShown:{state:!0},placeholder:{type:String,attr:"placeholder"},searchKey:{type:String,attr:"search-key"}}}static get events(){return[{name:"typeaheadOnSubmit",method:"typeaheadOnSubmit",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"/**style-placeholder:cwc-typeahead:**/"}}export{i as CwcInfiniteListWatcher,Zt as CwcList,br as CwcTypeahead,pr as filter,ur as get};